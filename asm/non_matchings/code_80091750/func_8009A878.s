glabel func_8009A878
/* 09B478 8009A878 27BDFFE0 */  addiu $sp, $sp, -0x20
/* 09B47C 8009A87C AFBF001C */  sw    $ra, 0x1c($sp)
/* 09B480 8009A880 AFB00018 */  sw    $s0, 0x18($sp)
/* 09B484 8009A884 8C8E0004 */  lw    $t6, 4($a0)
/* 09B488 8009A888 00808025 */  move  $s0, $a0
/* 09B48C 8009A88C 8C830000 */  lw    $v1, ($a0)
/* 09B490 8009A890 05C30004 */  bgezl $t6, .L8009A8A4
/* 09B494 8009A894 8E0F0008 */   lw    $t7, 8($s0)
/* 09B498 8009A898 AC800004 */  sw    $zero, 4($a0)
/* 09B49C 8009A89C AC800008 */  sw    $zero, 8($a0)
/* 09B4A0 8009A8A0 8E0F0008 */  lw    $t7, 8($s0)
.L8009A8A4:
/* 09B4A4 8009A8A4 25F8FFFF */  addiu $t8, $t7, -1
/* 09B4A8 8009A8A8 1F00001D */  bgtz  $t8, .L8009A920
/* 09B4AC 8009A8AC AE180008 */   sw    $t8, 8($s0)
/* 09B4B0 8009A8B0 8E080004 */  lw    $t0, 4($s0)
/* 09B4B4 8009A8B4 000070C0 */  sll   $t6, $zero, 3
/* 09B4B8 8009A8B8 25090001 */  addiu $t1, $t0, 1
/* 09B4BC 8009A8BC 000958C0 */  sll   $t3, $t1, 3
/* 09B4C0 8009A8C0 AE090004 */  sw    $t1, 4($s0)
/* 09B4C4 8009A8C4 006B1021 */  addu  $v0, $v1, $t3
/* 09B4C8 8009A8C8 8C4C0000 */  lw    $t4, ($v0)
/* 09B4CC 8009A8CC 55800004 */  bnel  $t4, $zero, .L8009A8E0
/* 09B4D0 8009A8D0 8C4F0004 */   lw    $t7, 4($v0)
/* 09B4D4 8009A8D4 AE000004 */  sw    $zero, 4($s0)
/* 09B4D8 8009A8D8 006E1021 */  addu  $v0, $v1, $t6
/* 09B4DC 8009A8DC 8C4F0004 */  lw    $t7, 4($v0)
.L8009A8E0:
/* 09B4E0 8009A8E0 AE0F0008 */  sw    $t7, 8($s0)
/* 09B4E4 8009A8E4 0C026449 */  jal   segmented_to_virtual
/* 09B4E8 8009A8E8 8C440000 */   lw    $a0, ($v0)
/* 09B4EC 8009A8EC 8E180014 */  lw    $t8, 0x14($s0)
/* 09B4F0 8009A8F0 00402025 */  move  $a0, $v0
/* 09B4F4 8009A8F4 53000006 */  beql  $t8, $zero, .L8009A910
/* 09B4F8 8009A8F8 8E050010 */   lw    $a1, 0x10($s0)
/* 09B4FC 8009A8FC 0C0266A5 */  jal   func_80099A94
/* 09B500 8009A900 8E050010 */   lw    $a1, 0x10($s0)
/* 09B504 8009A904 10000006 */  b     .L8009A920
/* 09B508 8009A908 AE000014 */   sw    $zero, 0x14($s0)
/* 09B50C 8009A90C 8E050010 */  lw    $a1, 0x10($s0)
.L8009A910:
/* 09B510 8009A910 0C0266A5 */  jal   func_80099A94
/* 09B514 8009A914 24A50001 */   addiu $a1, $a1, 1
/* 09B518 8009A918 24190001 */  li    $t9, 1
/* 09B51C 8009A91C AE190014 */  sw    $t9, 0x14($s0)
.L8009A920:
/* 09B520 8009A920 8E090004 */  lw    $t1, 4($s0)
/* 09B524 8009A924 8E080000 */  lw    $t0, ($s0)
/* 09B528 8009A928 8FBF001C */  lw    $ra, 0x1c($sp)
/* 09B52C 8009A92C 000950C0 */  sll   $t2, $t1, 3
/* 09B530 8009A930 010A5821 */  addu  $t3, $t0, $t2
/* 09B534 8009A934 8D620000 */  lw    $v0, ($t3)
/* 09B538 8009A938 8FB00018 */  lw    $s0, 0x18($sp)
/* 09B53C 8009A93C 03E00008 */  jr    $ra
/* 09B540 8009A940 27BD0020 */   addiu $sp, $sp, 0x20
